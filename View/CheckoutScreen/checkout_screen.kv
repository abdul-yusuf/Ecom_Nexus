<CheckoutScreenView>
    on_enter:
        total.text = app.screen_args[0]['price']
        price.text = app.screen_args[0]['quantity']
        order_ref_code.text = app.screen_args[0]['ref_code']
    MDBoxLayout:
        orientation: 'vertical'
        padding:dp(20)
        spacing:dp(20)
        MDLabel:
            adaptive_height: True
            text: "Order Checkout"
            font_style: 'H5'
            halign: 'center'
            theme_text_color: 'Custom'
            color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

        BoxWithShadow:
            size_hint_y: .3
            padding: dp(20)
            orientation: 'vertical'
            MDLabel:
                adaptive_height: True
                id: order_ref_code
                text: "text"
                halign: 'center'
                font_style: 'Caption'
                theme_text_color: 'Custom'
                color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

            MDBoxLayout:
                MDBoxLayout:
                    orientation: 'vertical'
                    MDLabel:
                        text: "Price(2)"
                        font_style: 'Body2'
                        halign: 'left'
                        theme_text_color: 'Custom'
                        color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                    MDLabel:
                        text: "Shipping"
                        font_style: 'Body2'
                        halign: 'left'
                        theme_text_color: 'Custom'
                        color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                    MDSeparator:
                    MDLabel:
                        text: "Total"
                        font_style: 'H6'
                        halign: 'left'
                        theme_text_color: 'Custom'
                        color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                MDBoxLayout:
                    orientation: 'vertical'
                    MDLabel:
                        id: price
                        text: ''
                        font_style: 'Body2'
                        halign: 'right'
                        theme_text_color: 'Custom'
                        color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                    MDLabel:
                        text: "FREE"
                        font_style: 'Body2'
                        halign: 'right'
                        theme_text_color: 'Custom'
                        color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                    MDSeparator:
                    MDLabel:
                        id: total
                        text: ''
                        font_style: 'H6'
                        halign: 'right'
                        theme_text_color: 'Custom'
                        color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]


        ScrollView:
            MDBoxLayout:
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
                spacing:dp(15)
                padding: dp(5)
                BoxWithShadow:
                    # adaptive_height:True
                    size_hint_y: None
                    height: dp(160)
                    orientation: 'vertical'
                    padding:[dp(15),dp(10)]
                    MDBoxLayout:
                        spacing:10
                        adaptive_height: True
                        MDCheckbox:
                            size_hint_x: None
                            width: dp(20)
                            group: 'grp0'
                            # pos_hint: {'center_x': 0.0,'center_y': 0.8}

                        MDLabel:
                            text: "Delivery Addressss"
                            font_style: 'Body1'
                            theme_text_color: 'Custom'
                            color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                            # bold: True
                        MDTextButton:
                            text: 'Change'
                            pos_hint: {'right': 1}
                            adaptive_height: True
                            theme_text_color: 'Error'
                            disabled: 'True'
                    MDBoxLayout:
                        orientation: 'horizontal'
                        spacing: dp(10)
                        padding: [17,0,0,0]

                        MDBoxLayout:
                            orientation: 'vertical'
                            MDLabel:
                                text: "Hamza Zaid"
                                font_style: 'Body1'
                                bold: True
                                theme_text_color: 'Custom'
                                color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                            MDLabel:
                                text: "admin@mail.com"
                                font_style: 'Caption'
                                theme_text_color: 'Custom'
                                color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                            MDLabel:
                                text: "(+234)234 546 4543"
                                font_style: 'Caption'
                                theme_text_color: 'Custom'
                                color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                            MDLabel:
                                text: "No 21 Pashama Road Ungwan Rimi Kaduna, Kaduna Nigeria"
                                font_style: 'Caption'
                                theme_text_color: 'Custom'
                                color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]


                    
                BoxWithShadow:
                    adaptive_height:True
                    size_hint_y: None
                    height: dp(160)
                    orientation: 'vertical'
                    padding: [20,10]
                    MDBoxLayout:
                        id: debit_card_box
                        spacing:10
                        adaptive_height: True
                        MDCheckbox:
                            id: chk1
                            size_hint_x: None
                            width: dp(20)
                            group:'payment'
                            active: False if chk2.active else True
                        MDLabel:
                            text: "Debit Card"
                            font_style: 'Body1'
                            theme_text_color: 'Custom'
                            color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]

                        MDTextButton:
                            text: 'Change'
                            pos_hint: {'right': 1}
                            adaptive_height: True
                            theme_text_color: 'Error'
                            disabled: 'True'
                    # MDBoxLayout:
                    #     orientation: 'vertical'
                    #     padding: [20,10]
                    #     MDLabel:
                    #         text: "Hamza Zaid"
                    #         font_style: 'Body1'
                    #         bold: True
                    #     MDLabel:
                    #         text: "admin@mail.com"
                    #         font_style: 'Caption'
                    #     MDLabel:
                    #         text: "Card no: **** **** **** 2345"
                    #         font_style: 'Caption'
                    #     MDLabel: 
                    #         text: "Exp Date: 09/24"
                    #         font_style: 'Caption'
                BoxWithShadow:
                    adaptive_height:True
                    size_hint_y: None
                    height: dp(160)
                    orientation: 'vertical'
                    padding: [20,10]
                    MDBoxLayout:
                        spacing:10
                        adaptive_height: True
                        MDCheckbox:
                            id: chk2
                            size_hint_x: None
                            width: dp(20)
                            group:'payment'
                        MDLabel:
                            text: "On Delivery"
                            font_style: 'Body1'
                            adaptive_height: True
                            theme_text_color: 'Custom'
                            color: [1, 1, 1, 1] if app.theme_cls.theme_style=='Dark' else [0,0,0,1]


                        # MDTextButton:
                        #     text: 'Change'
                        #     pos_hint: {'right': 1}
                        #     adaptive_height: True
                        #     theme_text_color: 'Error'            
                    
        MDFillRoundFlatButton:
            text: 'Checkout'
            size_hint: .9, .114
            rounded_button: False
            pos_hint: {'center_x': .5,'center_y': 0.0}
            font_style: 'Button'
            on_press:
                root.controller.payment_server_request(
                'O' if chk1.active else 'D',
                order_ref_code.text
                )
                # root.create_webview('https://checkout.paystack.com/42zetfc284zas9w')
    
    MDIconButton:
        icon: 'arrow-left'
        pos_hint: {'center_y': .95}
        user_font_size: '30sp'
        theme_text_color: 'Custom'
        text_color: get_color_from_hex(colors['Blue']['800'])
        on_release:
            app.onBackBtnx()
